"use strict";(self["webpackChunklink3_front"]=self["webpackChunklink3_front"]||[]).push([[303],{5570:function(e,t,a){a.d(t,{_:function(){return s}});var i=a(9592),n=a(4991);let o=window.wx;async function r(){let e=await n.o.post("/api/wx/sign_package",{url:window.location.href});if(!e)return!1;if(200==e.status)return e.data||(e.data={}),e.data;throw"error: getWXSignPackage 方法出错，估计网络链接错误"}const c=function(e){if(o=window.wx,!o)return!1;o.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]})},u=function({title:e,desc:t,link:a,imgUrl:i,type:n,dataUrl:r}){if(o=window.wx,!o)return!1;o.ready((function(){o.updateAppMessageShareData({title:e,desc:t,link:a,imgUrl:i,success:function(){}}),o.updateTimelineShareData({title:e,link:a,imgUrl:i,success:function(){}}),o.onMenuShareTimeline({title:e,link:a,imgUrl:i,success:function(){}}),o.onMenuShareAppMessage({title:e,desc:t,link:a,imgUrl:i,type:n,dataUrl:r,success:function(){}}),o.onMenuShareQQ({title:e,desc:t,link:a,imgUrl:i,success:function(){},cancel:function(){}}),o.onMenuShareWeibo({title:e,desc:t,link:a,imgUrl:i,success:function(){},cancel:function(){}}),o.onMenuShareQZone({title:e,desc:t,link:a,imgUrl:i,success:function(){},cancel:function(){}})})),o.error((function(e){}))};async function l({title:e,desc:t,link:a,imgUrl:i,type:n,dataUrl:l}){try{let s=await r();if(!s||"0001"!=s.code||!s.data)return!1;let p=s.data;if(o=window.wx,o)c(p),u({title:e,desc:t,link:a,imgUrl:i,type:n,dataUrl:l});else{let r=setTimeout((()=>{o=window.wx,c(p),u({title:e,desc:t,link:a,imgUrl:i,type:n,dataUrl:l}),clearTimeout(r),r=null}),3e3)}}catch(s){console.log("微信配置错误:",s)}}async function s({title:e,description:t,imageUrl:a,url:n}){await l({title:e,desc:t,link:n,imgUrl:a}),(0,i.T_)({type:"website",title:e,description:t,image:a,url:n,site_name:"Link3"})}},5332:function(e,t,a){a.d(t,{Z:function(){return d}});var i=a(3042),n=(a(5708),a(3524)),o=a(311);function r(e,t,a,r,c,u){const l=n["default"],s=i.G;return(0,o.openBlock)(),(0,o.createBlock)(s,{class:"popular_search_container",show:e.is_popup_search,"onUpdate:show":t[0]||(t[0]=t=>e.is_popup_search=t),closeable:"",onClickOverlay:e.searchClose,style:(0,o.normalizeStyle)([{border:"0","border-radius":"16px","max-height":"700px"},{width:e.searchPopupWidth+"px",minHeight:e.searchPopupHeight+"px"}])},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l)])),_:1},8,["show","onClickOverlay","style"])}var c=a(6294),u={props:{},data:function(){return{maxWidth:.86*window.innerWidth>400?400:.86*window.innerWidth,searchPopupWidth:.86*window.innerWidth>320?320:.86*window.innerWidth,searchPopupHeight:.9*window.innerHeight>400?400:.9*window.innerHeight}},computed:{...(0,c.mapState)({user:e=>e.user.user,search_popup:e=>e.page.search_popup}),is_popup_search:{get(){return this.search_popup.show},set(e){this.updateSearchPopupState({show:e})}}},methods:{...(0,c.mapMutations)({updateSearchPopupState:"page/updateSearchPopupState",updateAuthState:"user/updateAuthState"}),searchClose:function(){this.updateSearchPopupState({show:!1})}},components:{SearchPage:n["default"]},created(){},mounted:async function(){},watch:{}},l=u,s=a(89);const p=(0,s.Z)(l,[["render",r],["__scopeId","data-v-595ee222"]]);var d=p},8101:function(e,t,a){a.d(t,{j:function(){return d}});var i=a(1404),n=a(311),o=a(610),r=a(4050),c=a(253),u=a(3444);const[l,s]=(0,o["do"])("swipe-item");var p=(0,n.defineComponent)({name:l,setup(e,{slots:t}){let a;const i=(0,n.reactive)({offset:0,inited:!1,mounted:!1}),{parent:o,index:l}=(0,c.NB)(r.P);if(!o)return void 0;const p=(0,n.computed)((()=>{const e={},{vertical:t}=o.props;return o.size.value&&(e[t?"height":"width"]=`${o.size.value}px`),i.offset&&(e.transform=`translate${t?"Y":"X"}(${i.offset}px)`),e})),d=(0,n.computed)((()=>{const{loop:e,lazyRender:t}=o.props;if(!t||a)return!0;if(!i.mounted)return!1;const n=o.activeIndicator.value,r=o.count.value-1,c=0===n&&e?r:n-1,u=n===r&&e?0:n+1;return a=l.value===n||l.value===c||l.value===u,a})),h=e=>{i.offset=e};return(0,n.onMounted)((()=>{(0,n.nextTick)((()=>{i.mounted=!0}))})),(0,u.F)({setOffset:h}),()=>{var e;return(0,n.createVNode)("div",{class:s(),style:p.value},[d.value?null==(e=t.default)?void 0:e.call(t):null])}}});const d=(0,i.n)(p)},1252:function(e,t,a){a(1958),a(9137),a(1088)},4050:function(e,t,a){a.d(t,{P:function(){return f},Z:function(){return w}});var i=a(311),n=a(610),o=a(5323),r=a(6048),c=a(7936),u=a(253),l=a(5261),s=a(3444),p=a(7631);const[d,h]=(0,n["do"])("swipe"),v={loop:o.J5,width:o.Or,height:o.Or,vertical:Boolean,autoplay:(0,o.SI)(0),duration:(0,o.SI)(500),touchable:o.J5,lazyRender:Boolean,initialSwipe:(0,o.SI)(0),indicatorColor:String,showIndicators:o.J5,stopPropagation:o.J5},f=Symbol(d);var w=(0,i.defineComponent)({name:d,props:v,emits:["change"],setup(e,{emit:t,slots:a}){const n=(0,i.ref)(),o=(0,i.reactive)({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),d=(0,l.o)(),{children:v,linkChildren:w}=(0,u.$E)(f),m=(0,i.computed)((()=>v.length)),g=(0,i.computed)((()=>o[e.vertical?"height":"width"])),S=(0,i.computed)((()=>e.vertical?d.deltaY.value:d.deltaX.value)),k=(0,i.computed)((()=>{if(o.rect){const t=e.vertical?o.rect.height:o.rect.width;return t-g.value*m.value}return 0})),y=(0,i.computed)((()=>Math.ceil(Math.abs(k.value)/g.value))),x=(0,i.computed)((()=>m.value*g.value)),M=(0,i.computed)((()=>(o.active+m.value)%m.value)),b=(0,i.computed)((()=>{const t=e.vertical?"vertical":"horizontal";return d.direction.value===t})),U=(0,i.computed)((()=>{const t={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${o.offset}px)`};if(g.value){const a=e.vertical?"height":"width",i=e.vertical?"width":"height";t[a]=`${x.value}px`,t[i]=e[i]?`${e[i]}px`:""}return t})),_=t=>{const{active:a}=o;return t?e.loop?(0,r.uZ)(a+t,-1,m.value):(0,r.uZ)(a+t,0,y.value):a},C=(t,a=0)=>{let i=t*g.value;e.loop||(i=Math.min(i,-k.value));let n=a-i;return e.loop||(n=(0,r.uZ)(n,k.value,0)),n},T=({pace:a=0,offset:i=0,emitChange:n})=>{if(m.value<=1)return;const{active:r}=o,c=_(a),u=C(c,i);if(e.loop){if(v[0]&&u!==k.value){const e=u<k.value;v[0].setOffset(e?x.value:0)}if(v[m.value-1]&&0!==u){const e=u>0;v[m.value-1].setOffset(e?-x.value:0)}}o.active=c,o.offset=u,n&&c!==r&&t("change",M.value)},P=()=>{o.swiping=!0,o.active<=-1?T({pace:m.value}):o.active>=m.value&&T({pace:-m.value})},W=()=>{P(),d.reset(),(0,u.d1)((()=>{o.swiping=!1,T({pace:-1,emitChange:!0})}))},I=()=>{P(),d.reset(),(0,u.d1)((()=>{o.swiping=!1,T({pace:1,emitChange:!0})}))};let A;const Z=()=>clearTimeout(A),$=()=>{Z(),e.autoplay>0&&m.value>1&&(A=setTimeout((()=>{I(),$()}),+e.autoplay))},z=(t=+e.initialSwipe)=>{if(!n.value)return;const a=()=>{var a,i;if(!(0,c.xj)(n)){const t={width:n.value.offsetWidth,height:n.value.offsetHeight};o.rect=t,o.width=+(null!=(a=e.width)?a:t.width),o.height=+(null!=(i=e.height)?i:t.height)}m.value&&(t=Math.min(m.value-1,t)),o.active=t,o.swiping=!0,o.offset=C(t),v.forEach((e=>{e.setOffset(0)})),$()};(0,c.xj)(n)?(0,i.nextTick)().then(a):a()},D=()=>z(o.active);let O;const N=t=>{e.touchable&&(d.start(t),O=Date.now(),Z(),P())},B=t=>{e.touchable&&o.swiping&&(d.move(t),b.value&&((0,c.PF)(t,e.stopPropagation),T({offset:S.value})))},H=()=>{if(!e.touchable||!o.swiping)return;const t=Date.now()-O,a=S.value/t,i=Math.abs(a)>.25||Math.abs(S.value)>g.value/2;if(i&&b.value){const t=e.vertical?d.offsetY.value:d.offsetX.value;let a=0;a=e.loop?t>0?S.value>0?-1:1:0:-Math[S.value>0?"ceil":"floor"](S.value/g.value),T({pace:a,emitChange:!0})}else S.value&&T({pace:0});o.swiping=!1,$()},Q=(t,a={})=>{P(),d.reset(),(0,u.d1)((()=>{let i;i=e.loop&&t===m.value?0===o.active?0:t:t%m.value,a.immediate?(0,u.d1)((()=>{o.swiping=!1})):o.swiping=!1,T({pace:i-o.active,emitChange:!0})}))},V=(t,a)=>{const n=a===M.value,o=n?{backgroundColor:e.indicatorColor}:void 0;return(0,i.createVNode)("i",{style:o,class:h("indicator",{active:n})},null)},X=()=>a.indicator?a.indicator({active:M.value,total:m.value}):e.showIndicators&&m.value>1?(0,i.createVNode)("div",{class:h("indicators",{vertical:e.vertical})},[Array(m.value).fill("").map(V)]):void 0;return(0,s.F)({prev:W,next:I,state:o,resize:D,swipeTo:Q}),w({size:g,props:e,count:m,activeIndicator:M}),(0,i.watch)((()=>e.initialSwipe),(e=>z(+e))),(0,i.watch)(m,(()=>z(o.active))),(0,i.watch)((()=>e.autoplay),$),(0,i.watch)([c.bn,c.uK],D),(0,i.watch)((0,u.d9)(),(e=>{"visible"===e?$():Z()})),(0,i.onMounted)(z),(0,i.onActivated)((()=>z(o.active))),(0,p.h)((()=>z(o.active))),(0,i.onDeactivated)(Z),(0,i.onBeforeUnmount)(Z),()=>{var t;return(0,i.createVNode)("div",{ref:n,class:h()},[(0,i.createVNode)("div",{style:U.value,class:h("track",{vertical:e.vertical}),onTouchstart:N,onTouchmove:B,onTouchend:H,onTouchcancel:H},[null==(t=a.default)?void 0:t.call(a)]),X()])}}})},8620:function(e,t,a){a.d(t,{o:function(){return o}});var i=a(1404),n=a(4050);const o=(0,i.n)(n.Z)},7748:function(e,t,a){a(1958),a(9137)}}]);